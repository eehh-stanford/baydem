<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Analyze the result of a call to <code>bd_do_inference</code> — bd_analyze_soln • baydem</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Analyze the result of a call to <code>bd_do_inference</code> — bd_analyze_soln" />
<meta property="og:description" content="bd_do_inference calls Stan to do Bayesian inference by generating
a sample of parameters from the posterior of theta (or th).
This function analyzes the result of that inference.
In particular, it calculates the quantiles of the density function and growth rate." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">baydem</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Analyze the result of a call to <code>bd_do_inference</code></h1>
    
    <div class="hidden name"><code>bd_analyze_soln.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>bd_do_inference</code> calls Stan to do Bayesian inference by generating
a sample of parameters from the posterior of theta (or th).
This function analyzes the result of that inference.
In particular, it calculates the quantiles of the density function and growth rate.</p>
    </div>

    <pre class="usage"><span class='fu'>bd_analyze_soln</span>(
  <span class='no'>soln</span>,
  <span class='kw'>y</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>th_sim</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>lev</span> <span class='kw'>=</span> <span class='fl'>0.025</span>,
  <span class='kw'>rateProp</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>doSummary</span> <span class='kw'>=</span> <span class='no'>T</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>soln</th>
      <td><p>The solution, a list-like object of class bd_soln (see <code>bd_do_inference</code>)</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>(optional) The calendar dates at which to evaluate densities.
If y is not input, y is built from the hyperparameters.</p></td>
    </tr>
    <tr>
      <th>th_sim</th>
      <td><p>(optional) The known parameters used to create simulation data</p></td>
    </tr>
    <tr>
      <th>lev</th>
      <td><p>(default: 0.025) The level to use for the quantile bands</p></td>
    </tr>
    <tr>
      <th>rateProp</th>
      <td><p>(optional) The cumulative density needed to define rate growth bands</p></td>
    </tr>
    <tr>
      <th>doSummary</th>
      <td><p>Default TRUE Whether to summarize each sample by calling bd_summarize_sample</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list with information on the quantiles of the density function and growth rate (and sample summaries)</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>soln</code> is the result of a call to <code>bd_do_inference</code>.
It contains both the resulting samples and the parameters used in the inference,
such as the hyperparameters (see <code>bd_do_inference</code> for further details).
The primary thing <code>bd_analyze_soln</code> does is calculate quantiles of both
the parameterized density and growth rate. For example,
for a calendar date y each sample yields a density and growth rate.
The quantile is the value of the density or growth rate such that
a given proportion of samples are smaller than that value.
The probabilities used to calculate these quantiles are <code>probs = c(lev, 0.5, 1-lev)</code>,
where <code>lev</code> is the level (0.025 by default, so that 95% of the observations
lie between the first and last quantile bands).</p>
<p>In addition, <code>bd_analyze_soln</code> identifies calendar dates for which
the growth rate quantiles defined by <code>lev</code> and <code>1 - lev</code> do not contain zero.
This indicates significant positive or negative growth for the density curve.
The output vector <code>growthState</code> codes calendar dates by growth state as 'negative',
'zero', and 'positive'. For the Gaussian mixture parameterization of the density,
the rate is not typically meaningful near the calendar date boundaries where it
increases linearly as the calendar date goes to positive or negative infinity.
The parameter <code>rateProp</code> provides control on how calendar dates are classified by
growth rate near these boundaries. In particular, the calendar dates with a cumulative
density (50% quantile) below <code>rateProp</code> (for the lower boundary) or above <code>1 - rateProp</code>
(for the upper boundary) are classified as 'missing' in <code>growthState</code>.
By default, <code>rateProp</code> is NA and no calendar dates are classified as missing.</p>
<p>By default, a summary is done for each sample by calling
bd_summarize_sample. This is not done of doSummary is FALSE</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Michael Holton Price.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


