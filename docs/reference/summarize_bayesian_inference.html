<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate some key summary measures using the result of a call to
do_bayesian_inference — summarize_bayesian_inference • baydem</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Calculate some key summary measures using the result of a call to
do_bayesian_inference — summarize_bayesian_inference" />
<meta property="og:description" content="do_bayesian_inference calls Stan to do Bayesian inference by
generating a sample of parameters from the posterior of theta (or th).
do_bayesian_inference analyzes the result of that inference. Notably,
it calculates the quantiles of the density function and the growth rate." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">baydem</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/eehh-stanford/baydem/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate some key summary measures using the result of a call to
<code>do_bayesian_inference</code></h1>
    <small class="dont-index">Source: <a href='https://github.com/eehh-stanford/baydem/blob/master/R/bayesian_inference_functions.R'><code>R/bayesian_inference_functions.R</code></a></small>
    <div class="hidden name"><code>summarize_bayesian_inference.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>do_bayesian_inference</code> calls Stan to do Bayesian inference by
generating a sample of parameters from the posterior of theta (or <code>th</code>).
<code>do_bayesian_inference</code> analyzes the result of that inference. Notably,
it calculates the quantiles of the density function and the growth rate.</p>
    </div>

    <pre class="usage"><span class='fu'>summarize_bayesian_inference</span><span class='op'>(</span>
  <span class='va'>bayesian_soln</span>,
  <span class='va'>rc_meas</span>,
  <span class='va'>density_model</span>,
  <span class='va'>calib_df</span>,
  dtau <span class='op'>=</span> <span class='fl'>5</span>,
  th_sim <span class='op'>=</span> <span class='cn'>NA</span>,
  lev <span class='op'>=</span> <span class='fl'>0.025</span>,
  rate_prop <span class='op'>=</span> <span class='cn'>NA</span>,
  do_sample_summaries <span class='op'>=</span> <span class='cn'>T</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>bayesian_soln</th>
      <td><p>The solution, a list-like object of class
bd_bayesian_soln (see do_bayesian_inference).</p></td>
    </tr>
    <tr>
      <th>rc_meas</th>
      <td><p>The radiocarbon measurements (see import_rc_data).</p></td>
    </tr>
    <tr>
      <th>density_model</th>
      <td><p>The density model (see set_density_model).</p></td>
    </tr>
    <tr>
      <th>calib_df</th>
      <td><p>The calibration data frame (see load_calib_curve).</p></td>
    </tr>
    <tr>
      <th>dtau</th>
      <td><p>The spacing of the sampling grid (default: 5).</p></td>
    </tr>
    <tr>
      <th>th_sim</th>
      <td><p>The known parameters used to create simulation data (default:
NA, not provided).</p></td>
    </tr>
    <tr>
      <th>lev</th>
      <td><p>The level to use for the quantile bands (default: 0.025).</p></td>
    </tr>
    <tr>
      <th>rate_prop</th>
      <td><p>The cumulative density needed to define rate growth bands
(default: NA, not used).</p></td>
    </tr>
    <tr>
      <th>do_sample_summaries</th>
      <td><p>Whether to calculate some summary information for
each sampled curve (Default: TRUE).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list with information on the quantiles of the density function and
growth rate (and sample summaries)</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>bayesian_soln</code> is the result of a call to
<code>do_bayesian_inference</code>. It contains posterior samples for the density
model. The primary thing <code>summarize_bayesian_inference</code> does is
calculate quantiles of both the parameterized density and growth rate. For
example, for a calendar date tau_g each sample yields a density and growth
rate. The quantile is the value of the density or growth rate such that a
given proportion of samples are smaller than that value. The probabilities
used to calculate these quantiles are <code>probs = c(lev, 0.5, 1-lev)</code>, where
<code>lev</code> is the level (0.025 by default, so that 95% of the observations lie
between the first and last quantile bands).</p>
<p>In addition, <code>summarize_bayesian_inference</code> identifies calendar dates
for which the growth rate quantiles defined by <code>lev</code> and <code>1 - lev</code> do not
contain zero. This indicates significant positive or negative growth for the
density curve. The output vector <code>growth_state</code> codes calendar dates by
growth state as 'negative', 'zero', and 'positive'. For the Gaussian mixture
parameterization of the density, the rate is not typically meaningful near
the calendar date boundaries where it increases linearly as the calendar date
goes to positive or negative infinity. The parameter <code>rate_prop</code> provides
control on how calendar dates are classified by growth rate near these
boundaries. In particular, the calendar dates with a cumulative density (50%
quantile) below <code>rate_prop</code> (for the lower boundary) or above <code>1 - rate_prop</code>
(for the upper boundary) are classified as 'missing' in <code>growth_state</code>. By
default, <code>rate_prop</code> is NA and no calendar dates are classified as missing.</p>
<p>By default, a summary is done for each sample by calling summarize_sample.
This is not done if do_summary is FALSE.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'>
<ul>
<li><p><code><a href='import_rc_data.html'>import_rc_data()</a></code> for the format of <code>rc_meas</code></p></li>
<li><p><code><a href='set_density_model.html'>set_density_model()</a></code> for the format of <code>density_model</code></p></li>
<li><p><code><a href='load_calib_curve.html'>load_calib_curve()</a></code> for the format of <code>calib_df</code></p></li>
</ul>
</div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Michael Holton Price.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


